{
  // =============================================================================
  // FREE TIER CONFIGURATION (OpenRouter)
  // =============================================================================
  // Uses only FREE models from OpenRouter. Surprisingly capable with modern
  // free models like DeepSeek R1, Devstral, and Qwen3-Coder.
  //
  // FREE MODEL REFERENCE (as of Jan 2026):
  //   deepseek/deepseek-r1-0528:free     - 163K context, full reasoning
  //   mistralai/devstral-2512:free       - 262K context, code-specialized
  //   qwen/qwen3-coder:free              - 262K context, 480B MoE coding model
  //   google/gemini-2.0-flash-exp:free   - 1M context, excellent quality
  //   meta-llama/llama-3.3-70b-instruct:free - 131K context, great for coding
  //
  // STRATEGY: Best free models for each task. DeepSeek R1 for reasoning,
  // Devstral/Qwen3 for coding, Gemini Flash for large context needs.
  //
  // LAST UPDATED: Jan 2026 (OpenRouter API sync)
  // =============================================================================

  "plugin": [
    "@tarquinen/opencode-dcp@{{DCP_VERSION}}"
  ],
  "$schema": "https://opencode.ai/config.json",

  "provider": {
    "openrouter": {
      "options": {
        "apiKey": "{{OPENROUTER_API_KEY}}",
        "baseURL": "{{RELAY_BASE_URL}}"
      }
    }
  },

  "agent": {
    // =========================================================================
    // PRIMARY AGENTS (user-facing)
    // =========================================================================

    // --- Core Agents ---
    "openagent": {
      "description": "Universal agent for queries, tasks, and workflow coordination",
      "mode": "primary",
      // DeepSeek R1 FREE - full reasoning capability for orchestration
      "model": "openrouter/deepseek/deepseek-r1-0528:free"
    },
    "opencoder": {
      "description": "Multi-language coding specialist with plan-approve-execute workflow",
      "mode": "primary",
      // Devstral FREE - code-specialized, 262K context
      "model": "openrouter/mistralai/devstral-2512:free"
    },

    // --- Development Specialists ---
    "codebase-agent": {
      "description": "Primary development agent for multi-language codebases",
      "mode": "primary",
      // Devstral FREE - excellent for code
      "model": "openrouter/mistralai/devstral-2512:free"
    },
    "backend-specialist": {
      "description": "API design, database architecture, and server-side development",
      "mode": "primary",
      // Qwen3 Coder FREE - massive 480B MoE model
      "model": "openrouter/qwen/qwen3-coder:free"
    },
    "frontend-specialist": {
      "description": "UI design with design systems, themes, and animations",
      "mode": "primary",
      // Llama 3.3 FREE - good for frontend patterns
      "model": "openrouter/meta-llama/llama-3.3-70b-instruct:free"
    },
    "devops-specialist": {
      "description": "CI/CD, infrastructure, Docker, Kubernetes, Terraform",
      "mode": "primary",
      // Llama 3.3 FREE - handles infra configs well
      "model": "openrouter/meta-llama/llama-3.3-70b-instruct:free"
    },

    // --- Meta Agents ---
    "system-builder": {
      "description": "Meta-level generator for custom AI architectures and agent systems",
      "mode": "primary",
      // DeepSeek R1 FREE - needs reasoning for system design
      "model": "openrouter/deepseek/deepseek-r1-0528:free"
    },
    "repo-manager": {
      "description": "Repository management with lazy context loading and smart delegation",
      "mode": "primary",
      // Llama 3.3 FREE - structured repo operations
      "model": "openrouter/meta-llama/llama-3.3-70b-instruct:free"
    },

    // --- Content Agents ---
    "copywriter": {
      "description": "Marketing copy, blog posts, and persuasive content creation",
      "mode": "primary",
      // Llama 3.3 FREE - good writing quality
      "model": "openrouter/meta-llama/llama-3.3-70b-instruct:free"
    },
    "technical-writer": {
      "description": "Technical documentation, API docs, and developer guides",
      "mode": "primary",
      // Llama 3.3 FREE - technical accuracy
      "model": "openrouter/meta-llama/llama-3.3-70b-instruct:free"
    },

    // --- Data Agents ---
    "data-analyst": {
      "description": "Data analysis, visualization recommendations, and insights",
      "mode": "primary",
      // DeepSeek R1 FREE - analytical reasoning
      "model": "openrouter/deepseek/deepseek-r1-0528:free"
    },

    // =========================================================================
    // SUBAGENTS (automated)
    // =========================================================================

    // --- Code Subagents ---
    "coder-agent": {
      "description": "Executes coding subtasks following plans from primary agents",
      "mode": "subagent",
      // Devstral FREE - code-specialized
      "model": "openrouter/mistralai/devstral-2512:free"
    },
    "reviewer": {
      "description": "Code review, security analysis, and quality assurance",
      "mode": "subagent",
      // Qwen3 Coder FREE - 480B MoE for thorough reviews
      "model": "openrouter/qwen/qwen3-coder:free"
    },
    "tester": {
      "description": "Test authoring and TDD with AAA pattern",
      "mode": "subagent",
      // Qwen3 Coder FREE - code-focused testing
      "model": "openrouter/qwen/qwen3-coder:free"
    },
    "build-agent": {
      "description": "Type checking and build validation",
      "mode": "subagent",
      // Gemini Flash FREE - 1M context for large builds
      "model": "openrouter/google/gemini-2.0-flash-exp:free"
    },
    "codebase-pattern-analyst": {
      "description": "Finds code patterns and examples in codebase",
      "mode": "subagent",
      // Devstral FREE - code search
      "model": "openrouter/mistralai/devstral-2512:free"
    },

    // --- Core Subagents ---
    "task-manager": {
      "description": "Complex task breakdown into atomic subtasks with dependencies",
      "mode": "subagent",
      // DeepSeek R1 FREE - reasoning for planning
      "model": "openrouter/deepseek/deepseek-r1-0528:free"
    },
    "documentation": {
      "description": "Documentation authoring for README, specs, developer docs",
      "mode": "subagent",
      // Llama 3.3 FREE - good writing
      "model": "openrouter/meta-llama/llama-3.3-70b-instruct:free"
    },
    "context-retriever": {
      "description": "Context search and retrieval for finding relevant files and standards",
      "mode": "subagent",
      // Devstral FREE - code search
      "model": "openrouter/mistralai/devstral-2512:free"
    },

    // --- System Builder Subagents ---
    "domain-analyzer": {
      "description": "Analyzes domains to identify concepts, agents, and context structure",
      "mode": "subagent",
      // DeepSeek R1 FREE - domain analysis reasoning
      "model": "openrouter/deepseek/deepseek-r1-0528:free"
    },
    "agent-generator": {
      "description": "Generates XML-optimized agent files following research-backed patterns",
      "mode": "subagent",
      // Qwen3 Coder FREE - structured generation
      "model": "openrouter/qwen/qwen3-coder:free"
    },
    "context-organizer": {
      "description": "Organizes and generates context files for knowledge management",
      "mode": "subagent",
      // Llama 3.3 FREE - categorization
      "model": "openrouter/meta-llama/llama-3.3-70b-instruct:free"
    },
    "workflow-designer": {
      "description": "Designs workflow definitions with context dependencies",
      "mode": "subagent",
      // DeepSeek R1 FREE - workflow reasoning
      "model": "openrouter/deepseek/deepseek-r1-0528:free"
    },
    "command-creator": {
      "description": "Creates custom slash commands with clear syntax and examples",
      "mode": "subagent",
      // Devstral FREE - structured code
      "model": "openrouter/mistralai/devstral-2512:free"
    },

    // --- Utility Subagents ---
    "image-specialist": {
      "description": "Image generation and editing using Gemini AI",
      "mode": "subagent",
      // Gemini Flash FREE - image coordination
      "model": "openrouter/google/gemini-2.0-flash-exp:free"
    },

    // =========================================================================
    // UTILITY AGENTS (high frequency)
    // =========================================================================
    "title": {
      "description": "Session title generation",
      // Llama 3.3 FREE - simple summarization
      "model": "openrouter/meta-llama/llama-3.3-70b-instruct:free"
    },
    "summary": {
      "description": "Session summary generation",
      // Llama 3.3 FREE - summarization
      "model": "openrouter/meta-llama/llama-3.3-70b-instruct:free"
    },
    "compaction": {
      "description": "Context compaction agent",
      // Gemini Flash FREE - 1M context window for compaction
      "model": "openrouter/google/gemini-2.0-flash-exp:free"
    }
  }
}
